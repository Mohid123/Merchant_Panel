<!-- begin::Row -->
<div class="flex flex-row flex-wrap justify-between mb-5">
  <span class="text-3xl font-semibold text-black">Analytics</span>
  <button class="px-6 py-3 text-sm font-thin btn btn-dark" routerLink="/crafted/pages/wizards/horizontal">Create Deal</button>
</div>

<div class="row gy-5 g-xl-8">
  <div class="col-xxl-4">
    <app-mixed-widget2
      class="card card-xl-stretch mb-xl-8"
      chartColor="danger"
      chartHeight="200px"
      strokeColor="#cb1e46"
    ></app-mixed-widget2>
  </div>

  <div class="col-xxl-4">
    <app-mixed-widget10
      class="mb-5 card card-xxl-stretch-50 mb-xl-8"
      chartColor="blue"
      chartHeight="150px"
    ></app-mixed-widget10>
    <app-mixed-widget11
      class="mb-5 card card-xxl-stretch-50 mb-xl-8"
      chartColor="gray"
      chartHeight="175px"
    ></app-mixed-widget11>
  </div>

  <div class="col-xxl-4">
    <app-lists-widget5 class="card card-xxl-stretch"></app-lists-widget5>
  </div>
</div>
<!-- end::Row -->

<div class="flex flex-col justify-end w-full mt-10 mb-5 ml-2 xl:flex-row 2xl:flex-row lg:flex-row md:flex-row">
  <div ngbDropdown placement="bottom-end" id="dropdownBasic1" class="m-2">
    <button class="hidden xl:block xl:text-gray-500 xl:bg-gray-200 xl:rounded-md xl:px-6 xl:py-4 2xl:px-6 2xl:py-4" ngbDropdownToggle><i class="mr-3 far fa-calendar-alt"></i>Pick Date Range<i class="ml-3 fas fa-angle-down"></i></button>
    <button class="inline-flex px-2 py-2 text-gray-500 bg-gray-300 rounded-md xl:hidden" ngbDropdownToggle><i class="far fa-calendar-alt"></i><i class="ml-3 fas fa-angle-down"></i></button>
    <div ngbDropdownMenu aria-labelledby="dropdownBasic1">
      <button ngbDropdownItem>Jan - Feb</button>
      <button ngbDropdownItem>Mar - Jul</button>
      <button ngbDropdownItem>Aug - Dec</button>
    </div>
  </div>
  <div ngbDropdown placement="bottom-end" id="dropdownBasic2" class="m-2">
    <button class="hidden xl:inline-flex xl:text-gray-500 xl:bg-gray-200 xl:rounded-md xl:px-6 xl:py-4 2xl:px-6 2xl:py-4" ngbDropdownToggle><img src="../../../assets/media/logos/filter.svg" class="mt-1 mr-2 text-gray-500">Filter<i class="ml-3 fas fa-angle-down" style="margin-top: 2px;"></i></button>
    <button class="inline-flex px-2 py-2 text-gray-500 bg-gray-300 rounded-md xl:hidden"><img src="../../../assets/media/logos/filter.svg" class="mr-2 text-gray-500" ngbDropdownToggle><i class="ml-3 fas fa-angle-down"></i></button>
    <div ngbDropdownMenu aria-labelledby="dropdownBasic2">
      <button ngbDropdownItem>A - Z</button>
      <button ngbDropdownItem>Ascending - Descending</button>
      <button ngbDropdownItem>Something</button>
    </div>
  </div>
</div>

<ng-container *ngIf="showData == false">
  <app-table-skeleton></app-table-skeleton>
</ng-container>

<ng-container *ngIf="showData == true">
  <div class="table-container">
    <table class="w-full mt-10 rounded-md shadow-md">
      <tr ngbDropdown placement="bottom-end" id="dropdownBasic1" class="text-center text-gray-600 bg-gray-300 rounded-lg">
        <th class="p-4 font-normal text-black">Deals Title&nbsp; <i class="fas fa-sort fa-xs"></i></th>
        <th class="p-4 font-normal text-black">Start Date&nbsp; <i class="fas fa-sort fa-xs"></i></th>
        <th class="p-4 font-normal text-black">End Date&nbsp; <i class="fas fa-sort fa-xs"></i></th>
        <th class="p-4 font-normal text-black">Available&nbsp; <i class="fas fa-sort fa-xs"></i></th>
        <th class="p-4 font-normal text-black">Sold&nbsp; <i class="fas fa-sort fa-xs"></i></th>
        <th class="p-4 font-normal text-black">Average&nbsp; <i class="text-yellow-500 fas fa-star fa-xs"></i></th>
        <th class="p-4 font-normal text-black">Status&nbsp; <i class="fas fa-sort fa-xs"></i></th>
      </tr>
      <ng-container *ngFor="let deal of topDeals; let i = index">
        <tr class="z-40 w-full text-center text-black bg-white rounded-lg">
          <td class="flex flex-row items-center justify-center p-4 font-thin">
            <img class="rounded-full w-7 h-7 lg:rounded-md lg:w-11 lg:h-11 xl:w-11 xl:h-11 xl:rounded-md 2xl:w-11 2xl:h-11 2xl:rounded-md" [src]="deal.mediaUrl">
            <span class="ml-3">{{deal.title}}</span>
          </td>
          <td class="p-4 font-thin">{{deal.startDate | date}}</td>
          <td class="p-4 font-thin">{{deal.endDate | date}}</td>
          <td class="p-4 font-thin">{{deal.ratingsAverage}}</td>
          <td class="p-4 font-thin">{{deal.maxRating}}</td>
          <td class="p-4 font-thin">{{deal.minRating}}</td>
           <ng-container *ngIf="deal.dealStatus == 'In Review'"></ng-container>
           <td class="p-4 font-thin">
            <span class="px-5 py-3 badge badge-light-warning rounded-2xl">Pending</span>
          </td>
          <!-- <ng-container *ngIf="deal.dealStatus == ''"></ng-container> -->
        </tr>
      </ng-container>
    </table>
  </div>
</ng-container>
