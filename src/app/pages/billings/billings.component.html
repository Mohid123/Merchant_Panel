<div class="flex flex-row flex-wrap justify-between">
  <div class="text-3xl font-semibold text-left mb-3 lg:mb-0">My Invoices</div>
  <button (click)="openModal()" class="py-3 text-sm font-thin border-gray-400 btn btn-dark px-8">Complete Your KYC</button>
</div>


<div class="flex flex-col justify-center lg:flex-row lg:justify-between">
  <div class="flex flex-col lg:flex-row justify-evenly">
    <div class="flex flex-col mt-4 mr-7">
      <span class="mb-4 text-lg text-gray-500 font-base">Total Earnings</span>
      <span class="text-5xl font-medium text-black">421,584</span>
    </div>
    <div class="flex flex-row">
      <div class="h-20 py-1 pl-2 pr-12 mr-5 text-center bg-white lg:h-16 mt-9 w-38">
        <span class="mb-2 text-xs text-gray-500">Pending</span>
        <br>
        <span class="text-base text-yellow-500">421,584</span>
      </div>
      <div class="h-20 py-1 pl-2 pr-12 text-center bg-white lg:h-16 mt-9 w-38">
        <span class="mb-2 text-xs text-gray-500">Paid</span>
        <br>
        <span class="text-base text-green-500">421,584</span>
      </div>
    </div>
  </div>
  <div class="flex flex-row justify-start w-full ml-2 lg:items-end lg:justify-end mt-9 lg:mt-0">
    <div ngbDropdown placement="bottom-end" id="dropdownBasic1" class="m-2">
      <button class="hidden xl:block xl:text-gray-500 xl:bg-gray-200 xl:rounded-md xl:px-6 xl:py-4 2xl:px-6 2xl:py-4" ngbDropdownToggle><i class="mr-3 far fa-calendar-alt"></i>Pick Date Range<i class="ml-3 fas fa-angle-down"></i></button>
      <button class="inline-flex px-2 py-2 text-gray-500 bg-gray-300 rounded-md xl:hidden" ngbDropdownToggle><i class="far fa-calendar-alt"></i><i class="ml-3 fas fa-angle-down"></i></button>
      <div ngbDropdownMenu aria-labelledby="dropdownBasic1">
        <button ngbDropdownItem>Jan - Feb</button>
        <button ngbDropdownItem>Mar - Jul</button>
        <button ngbDropdownItem>Aug - Dec</button>
      </div>
    </div>
    <div ngbDropdown placement="bottom-end" id="dropdownBasic2" class="m-2">
      <button class="hidden xl:inline-flex xl:text-gray-500 xl:bg-gray-200 xl:rounded-md xl:px-6 xl:py-4 2xl:px-6 2xl:py-4" ngbDropdownToggle><img src="../../../assets/media/logos/filter.svg" class="mt-1 mr-2 text-gray-500">Filter<i class="ml-3 fas fa-angle-down" style="margin-top: 2px;"></i></button>
      <button class="inline-flex px-2 py-2 text-gray-500 bg-gray-300 rounded-md xl:hidden"><img src="../../../assets/media/logos/filter.svg" class="mr-2 text-gray-500" ngbDropdownToggle><i class="ml-3 fas fa-angle-down"></i></button>
      <div ngbDropdownMenu aria-labelledby="dropdownBasic2">
        <button ngbDropdownItem>A - Z</button>
        <button ngbDropdownItem>Ascending - Descending</button>
        <button ngbDropdownItem>Something</button>
      </div>
    </div>
  </div>
</div>

<ng-container *ngIf="showData == false">
  <app-table-skeleton></app-table-skeleton>
</ng-container>

<ng-container *ngIf="showData == true">
  <div class="table-container">
    <table class="w-full mt-10 rounded-md shadow-md">
      <tr class="text-center text-black bg-gray-300 rounded-lg">
        <th class="p-4 font-semibold cursor-pointer">Invoice #&nbsp;</th>
        <th class="p-4 font-semibold cursor-pointer">Invoice Date&nbsp; <i class="fas fa-sort fa-xs"></i></th>
        <th class="p-4 font-semibold cursor-pointer">Invoice Amount&nbsp; <i class="fas fa-sort fa-xs"></i></th>
        <th class="p-4 font-semibold cursor-pointer">Status&nbsp; <i class="fas fa-sort fa-xs"></i></th>
        <th class="p-4 font-semibold cursor-pointer">Action&nbsp;</th>
      </tr>
      <ng-container *ngFor="let data of billingsData?.billings">
        <tr class="z-40 text-center text-gray-700 bg-white border-b-2 border-gray-200 rounded-lg">
          <td class="p-4 font-medium">{{data.merchantID}}</td>
          <td class="p-4 font-thin">{{data.transactionDate}}</td>
          <td class="flex flex-col p-4 font-thin">
            <span>{{data.amount}}</span>
            <span class="text-sm text-gray-600 font-extralight">(Euro)</span>
          </td>
          <ng-container *ngIf="data.status == 'Paid'">
            <td class="p-4 font-thin">
              <span class="px-5 py-3 badge badge-light-success rounded-2xl">{{data.status}}</span>
            </td>
          </ng-container>
          <ng-container *ngIf="data.status == 'UnPaid'">
            <td class="p-4 font-thin">
              <span class="px-5 py-3 badge badge-light-warning rounded-2xl">{{data.status}}</span>
            </td>
          </ng-container>
          <td class="p-4">
            <button class="bg-gray-200 py-2 px-4 rounded-md text-sm">View Invoices</button>
          </td>
        </tr>
      </ng-container>
    </table>
  </div>
</ng-container>

<app-reusable-modal #modal [modalConfig]="modalConfig">
  <div class="relative">
    <img src="https://images.pexels.com/photos/1983032/pexels-photo-1983032.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1" class="object-fill">
    <img src="../../../../../assets/media/icons/tick_mark.svg" class="absolute w-32 h-32 left-44 top-44 shadow-sm">
  </div>

  <div class="p-6 flex flex-col justify-center items-center mt-12">
    <div class="w-3/4 text-center">
      <span style="font-size: 14px;">Kindly provide your bank account IBAN number where you want to receive the payments</span>
      <br>
      <span style="font-size: 14px;" class="mb-8">Thanks!</span>
    </div>
  </div>
  <div class="modal-body flex flex-col justify-center items-center">
    <div class="mb-3 form-group w-3/4">
      <label class="mb-3">Bank Name</label>
      <div class="input-group">
       <input type="text" class="form-control" placeholder="" />
      </div>
     </div>

     <div class="mb-3 form-group w-3/4">
      <label class="mb-3">IBAN</label>
      <div class="input-group">
        <input type="text" class="form-control" placeholder="" />
       </div>
     </div>
  </div>

   <div class="flex justify-evenly mb-8">
      <button (click)="closeModal()" class="px-10 py-2 text-yellow-600 bg-gray-100 rounded-md">Back</button>
      <button (click)="closeModal()" class="px-10 py-2 text-white bg-gray-900 rounded-md">Save</button>
    </div>

</app-reusable-modal>
